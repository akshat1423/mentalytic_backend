<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Available Chats</title>
    <style>
        /* General styling */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #F7F9FB;
            margin: 0;
            padding: 0;
            color: #5D6572;
        }
        h1 {
            background-color: #28A745; /* Updated to green */
            color: white;
            padding: 20px;
            margin: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        h1 button {
            background-color: transparent;
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }

        /* Container and Form styling */
        .container {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #fff;
        }

        /* List styling for a cleaner look */
        ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        li {
            background-color: #fff;
            border-bottom: 1px solid #ddd;
            padding: 10px;
            display: flex;
            align-items: center;
            transition: background-color 0.3s;
        }
        li:hover {
            background-color: #f8f8f8;
        }
        a {
            text-decoration: none;
            color: #007BFF;
            display: flex;
            align-items: center;
            width: 100%;
        }
        .chat-detail {
            display: flex;
            flex-direction: column;
            margin-left: 15px;
        }
        .chat-info {
            font-size: 0.9rem;
            color: #6C757D;
        }
        .chat-snippet {
            color: #999;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
            max-width: 400px; /* Adjust based on your layout */
        }

        /* Enhancing the UI further */
        li:last-child {
            border-bottom: none;
        }
        .chat-header {
            font-weight: bold;
        }
    </style>
</head>
<body>
    <style>
        h1 {
            background-color: #28A745; /* Updated to green */
            color: white;
            padding: 20px;
            margin: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        h1 button {
            background-color: transparent;
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
        <style>
        .header {
            background-color: #28A745;
            color: white;
            padding: 20px 10px;
            margin: 0;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            align-items: center;
        }
        .header h1 {
            margin: 0;
            flex-grow: 1;
        }
        .navbar {
            display: flex;
                           flex-wrap: wrap;
            justify-content: center;
            gap: 11px;
        }
        .navbar a {
            background-color: #258b3c73;
        }
        .navbar a {
            color: white;
            text-decoration: none;
            padding: 10px;
            border-radius: 5px;
            transition: background-color 1s;
        }
        .navbar a:hover {
            background-color: #218838;
        }


        .navbar a span {
    display: none;
    margin-left: 8px;
    white-space: nowrap; /* Ensure the text does not wrap */
}

.navbar a {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px; /* Adjust based on the size you want for the icons */
    height: 40px;
    overflow: hidden; /* Hide the text initially */
}

.navbar a:hover span {
    display: inline; /* Show text on hover */
}

.navbar a:hover {
    width: auto; /* Allow the link to expand to fit the text */
    padding: 10px; /* Add some padding around the text */
}



    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <div class="header">
        <h1>ðŸŒ± Mentalytics Available ChatsðŸ¤– ðŸŒ¿</h1>
<div class="navbar">
        <a href="https://akshatgooglehackathon.pythonanywhere.com/" title="Home"><i class="fas fa-home"></i><span>Home</span></a>
    <a href="https://akshatgooglehackathon.pythonanywhere.com/dashboardhealthbot" title="Dashboard"><i class="fas fa-tachometer-alt"></i><span>Dashboard</span></a>
    <a href="https://akshatgooglehackathon.pythonanywhere.com/broadcast" title="Broadcast"><i class="fas fa-broadcast-tower"></i><span>Broadcast</span></a>
    <a href="https://akshatgooglehackathon.pythonanywhere.com/upload" title="Upload Docs"><i class="fas fa-upload"></i><span>Upload Docs</span></a>
    <a href="https://akshatgooglehackathon.pythonanywhere.com/contacts" title="Contacts"><i class="fas fa-address-book"></i><span>Contacts</span></a>
    <!--<a href="https://akshatgooglehackathon.pythonanywhere.com/chatindex" title="Chats"><i class="fas fa-comments"></i><span>Chats</span></a>-->
    <a href="https://akshatgooglehackathon.pythonanywhere.com/upload-contacts" title="Upload Contacts"><i class="fas fa-file-upload"></i><span>Upload Contacts</span></a>
    <a href="https://akshatgooglehackathon.pythonanywhere.com/queries_over_time" title="Analytics"><i class="fas fa-chart-line"></i><span>Analytics</span></a>
    <a href="https://akshatgooglehackathon.pythonanywhere.com/admin" title="Admin"><i class="fas fa-user-cog"></i><span>Admin</span></a>
    <a href="https://akshatgooglehackathon.pythonanywhere.com/settings" title="Settings"><i class="fas fa-cog"></i><span>Settings</span></a>

</div>
</div>
    <!--<h1>Available Chats<button onclick="window.location.href='/'">Home</button></h1>-->
    <div class="container">
        <ul>
            {% for chat in chat_info %}
            <li>
                <a href="{% url 'chat_view' chat.phone_no_from %}">
                    <div class="chat-detail">
                        <div class="chat-header">{{ chat.profile_name }} ({{ chat.phone_no_from }})</div>
                        <div class="chat-info">{{ chat.total_messages }} messages</div>
                        <div class="chat-snippet">Last: "{{ chat.last_message|truncatechars:50 }}"</div>
                    </div>
                </a>
            </li>
            {% endfor %}
        </ul>
    </div>
</body>
</html>
